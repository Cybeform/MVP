{"ast":null,"code":"var _jsxFileName = \"/Users/nekmouche/Desktop/Projet RaHa/MVP/frontend/btp-meeting-ui/src/components/MainArea.jsx\",\n  _s = $RefreshSig$();\n// src/components/MainArea.jsx\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport MicButton from './MicButton';\nimport { startRecording, stopRecording, fetchRecordings } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000';\nexport default function MainArea({\n  onNewRecording\n}) {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [currentId, setCurrentId] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [genProgress, setGenProgress] = useState(0);\n  const [genStep, setGenStep] = useState('');\n  const evtRef = useRef(null);\n\n  // -----------------------------\n  // 1) Enregistrement live\n  // -----------------------------\n  const handleMic = async () => {\n    if (!isRecording) {\n      try {\n        const id = await startRecording();\n        console.log(\"üÜî Returned from startRecording():\", id);\n        setCurrentId(id);\n        setIsRecording(true);\n      } catch (err) {\n        console.error(err);\n        alert('Impossible de d√©marrer l‚Äôenregistrement');\n      }\n    } else {\n      try {\n        await stopRecording(currentId);\n        setIsRecording(false);\n        const recs = await fetchRecordings();\n        onNewRecording(recs);\n      } catch (err) {\n        console.error(err);\n        alert('Impossible d‚Äôarr√™ter l‚Äôenregistrement');\n      }\n    }\n  };\n\n  // -----------------------------\n  // 2) Upload de fichier audio\n  // -----------------------------\n  const handleUpload = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setIsUploading(true);\n    setUploadProgress(0);\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', `${BACKEND_URL}/upload`);\n    xhr.upload.onprogress = ev => {\n      if (ev.lengthComputable) {\n        setUploadProgress(Math.round(ev.loaded * 100 / ev.total));\n      }\n    };\n    xhr.onload = async () => {\n      setIsUploading(false);\n      setUploadProgress(0);\n      if (xhr.status === 200) {\n        const {\n          id\n        } = JSON.parse(xhr.responseText);\n        setCurrentId(id);\n        const recs = await fetchRecordings();\n        onNewRecording(recs);\n      } else {\n        alert(`Erreur upload (${xhr.status}) : ${xhr.responseText}`);\n      }\n    };\n    xhr.onerror = () => {\n      setIsUploading(false);\n      alert('Erreur r√©seau durant l‚Äôupload');\n    };\n    const form = new FormData();\n    form.append('file', file);\n    xhr.send(form);\n  };\n\n  // -----------------------------\n  // 3) G√©n√©ration du rapport SSE\n  // -----------------------------\n  const handleGenerate = () => {\n    if (!currentId) return;\n\n    // Reset state\n    if (evtRef.current) {\n      evtRef.current.close();\n      evtRef.current = null;\n    }\n    setIsGenerating(true);\n    setGenProgress(0);\n    setGenStep('Diarization');\n\n    // Use absolute URL to avoid proxy issues\n    const url = `${BACKEND_URL}/generate-report-stream/${currentId}`;\n    const evt = new EventSource(url);\n    evtRef.current = evt;\n    evt.onmessage = e => {\n      const msg = JSON.parse(e.data);\n\n      // 1) phase = \"error\" ‚Üí show the real backend message\n      if (msg.phase === 'error') {\n        evt.close();\n        alert(`Erreur durant la g√©n√©ration : ${msg.message}`);\n        setIsGenerating(false);\n        return;\n      }\n\n      // 2) Normal phases\n      switch (msg.phase) {\n        case 'diarization':\n          // Skip immediately\n          if (msg.status === 'skipped' || msg.status === 'end') {\n            setGenStep('Transcription');\n            setGenProgress(0);\n          }\n          break;\n        case 'transcription':\n          setGenStep('Transcription');\n          if (msg.total) {\n            setGenProgress(Math.round(msg.done * 100 / msg.total));\n          }\n          break;\n        case 'summary':\n          if (msg.status === 'start') {\n            setGenStep('R√©sum√©');\n            setGenProgress(0);\n          }\n          break;\n        case 'docx':\n          if (msg.status === 'start') {\n            setGenStep('G√©n√©ration du rapport');\n            setGenProgress(0);\n          }\n          break;\n        case 'done':\n          evt.close();\n          // download endpoint\n          const link = document.createElement('a');\n          link.href = `${BACKEND_URL}/download-report/${currentId}`;\n          link.click();\n          setIsGenerating(false);\n          break;\n        default:\n          break;\n      }\n    };\n\n    // Never show the generic ‚ÄúErreur durant la g√©n√©ration‚Ä¶‚Äù here,\n    // because real errors come via phase:\"error\"\n    evt.onerror = () => {\n      // just close silently\n      if (evtRef.current) {\n        evtRef.current.close();\n        evtRef.current = null;\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center w-full px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-900 rounded-2xl p-6 flex flex-col items-center w-full max-w-md space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(MicButton, {\n        isRecording: isRecording,\n        onClick: handleMic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: \"audio/*\",\n        className: \"hidden\",\n        onChange: handleUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"file-upload\",\n        className: `\n            inline-flex items-center justify-center\n            bg-blue-600 hover:bg-blue-700\n            text-white font-semibold\n            rounded-full px-6 py-3\n            cursor-pointer transition\n            ${isUploading ? 'opacity-50 pointer-events-none' : ''}\n          `,\n        children: isUploading ? `T√©l√©versement ${uploadProgress}%` : 'Importer un fichier audio'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), !isRecording && currentId && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGenerate,\n        disabled: isGenerating,\n        className: `\n              inline-flex items-center justify-center\n              bg-green-500 hover:bg-green-600\n              text-white font-semibold\n              rounded-full px-6 py-3\n              cursor-pointer transition\n              ${isGenerating ? 'opacity-50 pointer-events-none' : ''}\n            `,\n        children: isGenerating ? `${genStep} ${genProgress > 0 ? `${genProgress}%` : ''}` : 'G√©n√©rer le Rapport (.docx)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), isGenerating && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-sm mb-1\",\n          children: genStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-2 bg-blue-800 rounded-full overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full bg-green-400 transition-all\",\n            style: {\n              width: `${genProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n_s(MainArea, \"wHQNSiRn5iuF4vh5xK8iGTL110E=\");\n_c = MainArea;\nvar _c;\n$RefreshReg$(_c, \"MainArea\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MicButton","startRecording","stopRecording","fetchRecordings","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","MainArea","onNewRecording","_s","isRecording","setIsRecording","currentId","setCurrentId","isUploading","setIsUploading","uploadProgress","setUploadProgress","isGenerating","setIsGenerating","genProgress","setGenProgress","genStep","setGenStep","evtRef","handleMic","id","console","log","err","error","alert","recs","handleUpload","e","file","target","files","xhr","XMLHttpRequest","open","upload","onprogress","ev","lengthComputable","Math","round","loaded","total","onload","status","JSON","parse","responseText","onerror","form","FormData","append","send","handleGenerate","current","close","url","evt","EventSource","onmessage","msg","data","phase","message","done","link","document","createElement","href","click","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","htmlFor","disabled","style","width","_c","$RefreshReg$"],"sources":["/Users/nekmouche/Desktop/Projet RaHa/MVP/frontend/btp-meeting-ui/src/components/MainArea.jsx"],"sourcesContent":["// src/components/MainArea.jsx\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport MicButton from './MicButton'\nimport {\n  startRecording,\n  stopRecording,\n  fetchRecordings,\n} from '../api'\n\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000'\n\nexport default function MainArea({ onNewRecording }) {\n  const [isRecording,    setIsRecording]    = useState(false)\n  const [currentId,      setCurrentId]      = useState(null)\n  const [isUploading,    setIsUploading]    = useState(false)\n  const [uploadProgress, setUploadProgress] = useState(0)\n  const [isGenerating,   setIsGenerating]   = useState(false)\n  const [genProgress,    setGenProgress]    = useState(0)\n  const [genStep,        setGenStep]        = useState('')\n  const evtRef = useRef(null)\n\n  // -----------------------------\n  // 1) Enregistrement live\n  // -----------------------------\n  const handleMic = async () => {\n    if (!isRecording) {\n      try {\n        const id = await startRecording()\n        console.log(\"üÜî Returned from startRecording():\", id)\n        setCurrentId(id)\n        setIsRecording(true)\n      } catch (err) {\n        console.error(err)\n        alert('Impossible de d√©marrer l‚Äôenregistrement')\n      }\n    } else {\n      try {\n        await stopRecording(currentId)\n        setIsRecording(false)\n        const recs = await fetchRecordings()\n        onNewRecording(recs)\n      } catch (err) {\n        console.error(err)\n        alert('Impossible d‚Äôarr√™ter l‚Äôenregistrement')\n      }\n    }\n  }\n\n  // -----------------------------\n  // 2) Upload de fichier audio\n  // -----------------------------\n  const handleUpload = e => {\n    const file = e.target.files[0]\n    if (!file) return\n    setIsUploading(true)\n    setUploadProgress(0)\n\n    const xhr = new XMLHttpRequest()\n    xhr.open('POST', `${BACKEND_URL}/upload`)\n    xhr.upload.onprogress = ev => {\n      if (ev.lengthComputable) {\n        setUploadProgress(Math.round(ev.loaded * 100 / ev.total))\n      }\n    }\n    xhr.onload = async () => {\n      setIsUploading(false)\n      setUploadProgress(0)\n      if (xhr.status === 200) {\n        const { id } = JSON.parse(xhr.responseText)\n        setCurrentId(id)\n        const recs = await fetchRecordings()\n        onNewRecording(recs)\n      } else {\n        alert(`Erreur upload (${xhr.status}) : ${xhr.responseText}`)\n      }\n    }\n    xhr.onerror = () => {\n      setIsUploading(false)\n      alert('Erreur r√©seau durant l‚Äôupload')\n    }\n    const form = new FormData()\n    form.append('file', file)\n    xhr.send(form)\n  }\n\n  // -----------------------------\n  // 3) G√©n√©ration du rapport SSE\n  // -----------------------------\n  const handleGenerate = () => {\n    if (!currentId) return\n\n    // Reset state\n    if (evtRef.current) {\n      evtRef.current.close()\n      evtRef.current = null\n    }\n    setIsGenerating(true)\n    setGenProgress(0)\n    setGenStep('Diarization')\n\n    // Use absolute URL to avoid proxy issues\n    const url = `${BACKEND_URL}/generate-report-stream/${currentId}`\n    const evt = new EventSource(url)\n    evtRef.current = evt\n\n    evt.onmessage = e => {\n      const msg = JSON.parse(e.data)\n\n      // 1) phase = \"error\" ‚Üí show the real backend message\n      if (msg.phase === 'error') {\n        evt.close()\n        alert(`Erreur durant la g√©n√©ration : ${msg.message}`)\n        setIsGenerating(false)\n        return\n      }\n\n      // 2) Normal phases\n      switch (msg.phase) {\n        case 'diarization':\n          // Skip immediately\n          if (msg.status === 'skipped' || msg.status === 'end') {\n            setGenStep('Transcription')\n            setGenProgress(0)\n          }\n          break\n\n        case 'transcription':\n          setGenStep('Transcription')\n          if (msg.total) {\n            setGenProgress(Math.round(msg.done * 100 / msg.total))\n          }\n          break\n\n        case 'summary':\n          if (msg.status === 'start') {\n            setGenStep('R√©sum√©')\n            setGenProgress(0)\n          }\n          break\n\n        case 'docx':\n          if (msg.status === 'start') {\n            setGenStep('G√©n√©ration du rapport')\n            setGenProgress(0)\n          }\n          break\n\n        case 'done':\n          evt.close()\n          // download endpoint\n          const link = document.createElement('a')\n          link.href = `${BACKEND_URL}/download-report/${currentId}`\n          link.click()\n          setIsGenerating(false)\n          break\n\n        default:\n          break\n      }\n    }\n\n    // Never show the generic ‚ÄúErreur durant la g√©n√©ration‚Ä¶‚Äù here,\n    // because real errors come via phase:\"error\"\n    evt.onerror = () => {\n      // just close silently\n      if (evtRef.current) {\n        evtRef.current.close()\n        evtRef.current = null\n      }\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center w-full px-4 py-8\">\n      <div className=\"bg-blue-900 rounded-2xl p-6 flex flex-col items-center w-full max-w-md space-y-6\">\n\n        {/* 1) Mic Button */}\n        <MicButton\n          isRecording={isRecording}\n          onClick={handleMic}\n        />\n\n        {/* 2) File upload */}\n        <input\n          id=\"file-upload\"\n          type=\"file\"\n          accept=\"audio/*\"\n          className=\"hidden\"\n          onChange={handleUpload}\n        />\n        <label\n          htmlFor=\"file-upload\"\n          className={`\n            inline-flex items-center justify-center\n            bg-blue-600 hover:bg-blue-700\n            text-white font-semibold\n            rounded-full px-6 py-3\n            cursor-pointer transition\n            ${isUploading ? 'opacity-50 pointer-events-none' : ''}\n          `}\n        >\n          {isUploading\n            ? `T√©l√©versement ${uploadProgress}%`\n            : 'Importer un fichier audio'}\n        </label>\n\n        {/* 3) Generate report */}\n        {!isRecording && currentId && (\n          <button\n            onClick={handleGenerate}\n            disabled={isGenerating}\n            className={`\n              inline-flex items-center justify-center\n              bg-green-500 hover:bg-green-600\n              text-white font-semibold\n              rounded-full px-6 py-3\n              cursor-pointer transition\n              ${isGenerating ? 'opacity-50 pointer-events-none' : ''}\n            `}\n          >\n            {isGenerating\n              ? `${genStep} ${genProgress > 0 ? `${genProgress}%` : ''}`\n              : 'G√©n√©rer le Rapport (.docx)'}\n          </button>\n        )}\n\n        {/* 4) Progress bar */}\n        {isGenerating && (\n          <div className=\"w-full\">\n            <p className=\"text-white text-sm mb-1\">{genStep}</p>\n            <div className=\"w-full h-2 bg-blue-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-green-400 transition-all\"\n                style={{ width: `${genProgress}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/nekmouche/Desktop/Projet RaHa/MVP/frontend/btp-meeting-ui/src/components/MainArea.jsx\",\n  _s = $RefreshSig$();\n// src/components/MainArea.jsx\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport MicButton from './MicButton';\nimport { startRecording, stopRecording, fetchRecordings } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainArea({\n  onNewRecording\n}) {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [currentId, setCurrentId] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [genProgress, setGenProgress] = useState(0);\n  const [genStep, setGenStep] = useState('');\n  const evtRef = useRef(null);\n\n  // -----------------------------\n  // 1) Enregistrement live\n  // -----------------------------\n  const handleMic = async () => {\n    if (!isRecording) {\n      try {\n        const id = await startRecording();\n        setCurrentId(id);\n        setIsRecording(true);\n      } catch (err) {\n        console.error(err);\n        alert('Impossible de démarrer l’enregistrement');\n      }\n    } else {\n      try {\n        await stopRecording(currentId);\n        setIsRecording(false);\n        const recs = await fetchRecordings();\n        onNewRecording(recs);\n      } catch (err) {\n        console.error(err);\n        alert('Impossible d’arrêter l’enregistrement');\n      }\n    }\n  };\n\n  // -----------------------------\n  // 2) Upload de fichier audio\n  // -----------------------------\n  const handleUpload = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setIsUploading(true);\n    setUploadProgress(0);\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', '/api/upload');\n    xhr.upload.onprogress = ev => {\n      if (ev.lengthComputable) {\n        setUploadProgress(Math.round(ev.loaded * 100 / ev.total));\n      }\n    };\n    xhr.onload = async () => {\n      setIsUploading(false);\n      setUploadProgress(0);\n      if (xhr.status === 200) {\n        const {\n          id\n        } = JSON.parse(xhr.responseText);\n        setCurrentId(id);\n        const recs = await fetchRecordings();\n        onNewRecording(recs);\n      } else {\n        alert(`Erreur upload (${xhr.status}) : ${xhr.responseText}`);\n      }\n    };\n    xhr.onerror = () => {\n      setIsUploading(false);\n      alert('Erreur réseau durant l’upload');\n    };\n    const form = new FormData();\n    form.append('file', file);\n    xhr.send(form);\n  };\n\n  // -----------------------------\n  // 3) Génération du rapport SSE\n  // -----------------------------\n  const handleGenerate = () => {\n    if (!currentId) return;\n\n    // Reset state\n    if (evtRef.current) {\n      evtRef.current.close();\n      evtRef.current = null;\n    }\n    setIsGenerating(true);\n    setGenProgress(0);\n    setGenStep('Diarization');\n\n    // Use absolute URL to avoid proxy issues\n    const url = `${window.location.origin}/api/generate-report-stream/${currentId}`;\n    const evt = new EventSource(url);\n    evtRef.current = evt;\n    evt.onmessage = e => {\n      const msg = JSON.parse(e.data);\n\n      // 1) phase = \"error\" → show the real backend message\n      if (msg.phase === 'error') {\n        evt.close();\n        alert(`Erreur durant la génération : ${msg.message}`);\n        setIsGenerating(false);\n        return;\n      }\n\n      // 2) Normal phases\n      switch (msg.phase) {\n        case 'diarization':\n          // Skip immediately\n          if (msg.status === 'skipped' || msg.status === 'end') {\n            setGenStep('Transcription');\n            setGenProgress(0);\n          }\n          break;\n        case 'transcription':\n          setGenStep('Transcription');\n          if (msg.total) {\n            setGenProgress(Math.round(msg.done * 100 / msg.total));\n          }\n          break;\n        case 'summary':\n          if (msg.status === 'start') {\n            setGenStep('Résumé');\n            setGenProgress(0);\n          }\n          break;\n        case 'docx':\n          if (msg.status === 'start') {\n            setGenStep('Génération du rapport');\n            setGenProgress(0);\n          }\n          break;\n        case 'done':\n          evt.close();\n          // download endpoint\n          const link = document.createElement('a');\n          link.href = `/api/download-report/${currentId}`;\n          link.click();\n          setIsGenerating(false);\n          break;\n        default:\n          break;\n      }\n    };\n\n    // Never show the generic “Erreur durant la génération…” here,\n    // because real errors come via phase:\"error\"\n    evt.onerror = () => {\n      // just close silently\n      if (evtRef.current) {\n        evtRef.current.close();\n        evtRef.current = null;\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center w-full px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-900 rounded-2xl p-6 flex flex-col items-center w-full max-w-md space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(MicButton, {\n        isRecording: isRecording,\n        onClick: handleMic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: \"audio/*\",\n        className: \"hidden\",\n        onChange: handleUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"file-upload\",\n        className: `\n            inline-flex items-center justify-center\n            bg-blue-600 hover:bg-blue-700\n            text-white font-semibold\n            rounded-full px-6 py-3\n            cursor-pointer transition\n            ${isUploading ? 'opacity-50 pointer-events-none' : ''}\n          `,\n        children: isUploading ? `Téléversement ${uploadProgress}%` : 'Importer un fichier audio'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), !isRecording && currentId && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGenerate,\n        disabled: isGenerating,\n        className: `\n              inline-flex items-center justify-center\n              bg-green-500 hover:bg-green-600\n              text-white font-semibold\n              rounded-full px-6 py-3\n              cursor-pointer transition\n              ${isGenerating ? 'opacity-50 pointer-events-none' : ''}\n            `,\n        children: isGenerating ? `${genStep} ${genProgress > 0 ? `${genProgress}%` : ''}` : 'Générer le Rapport (.docx)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), isGenerating && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-sm mb-1\",\n          children: genStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-2 bg-blue-800 rounded-full overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full bg-green-400 transition-all\",\n            style: {\n              width: `${genProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(MainArea, \"wHQNSiRn5iuF4vh5xK8iGTL110E=\");\n_c = MainArea;\nvar _c;\n$RefreshReg$(_c, \"MainArea\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MicButton","startRecording","stopRecording","fetchRecordings","jsxDEV","_jsxDEV","MainArea","onNewRecording","_s","isRecording","setIsRecording","currentId","setCurrentId","isUploading","setIsUploading","uploadProgress","setUploadProgress","isGenerating","setIsGenerating","genProgress","setGenProgress","genStep","setGenStep","evtRef","handleMic","id","err","console","error","alert","recs","handleUpload","e","file","target","files","xhr","XMLHttpRequest","open","upload","onprogress","ev","lengthComputable","Math","round","loaded","total","onload","status","JSON","parse","responseText","onerror","form","FormData","append","send","handleGenerate","current","close","url","window","location","origin","evt","EventSource","onmessage","msg","data","phase","message","done","link","document","createElement","href","click","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","htmlFor","disabled","style","width","_c","$RefreshReg$"],"sources":["/Users/nekmouche/Desktop/Projet RaHa/MVP/frontend/btp-meeting-ui/src/components/MainArea.jsx"],"sourcesContent":["// src/components/MainArea.jsx\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport MicButton from './MicButton'\nimport {\n  startRecording,\n  stopRecording,\n  fetchRecordings,\n} from '../api'\n\nexport default function MainArea({ onNewRecording }) {\n  const [isRecording,    setIsRecording]    = useState(false)\n  const [currentId,      setCurrentId]      = useState(null)\n  const [isUploading,    setIsUploading]    = useState(false)\n  const [uploadProgress, setUploadProgress] = useState(0)\n  const [isGenerating,   setIsGenerating]   = useState(false)\n  const [genProgress,    setGenProgress]    = useState(0)\n  const [genStep,        setGenStep]        = useState('')\n  const evtRef = useRef(null)\n\n  // -----------------------------\n  // 1) Enregistrement live\n  // -----------------------------\n  const handleMic = async () => {\n    if (!isRecording) {\n      try {\n        const id = await startRecording()\n        setCurrentId(id)\n        setIsRecording(true)\n      } catch (err) {\n        console.error(err)\n        alert('Impossible de démarrer l’enregistrement')\n      }\n    } else {\n      try {\n        await stopRecording(currentId)\n        setIsRecording(false)\n        const recs = await fetchRecordings()\n        onNewRecording(recs)\n      } catch (err) {\n        console.error(err)\n        alert('Impossible d’arrêter l’enregistrement')\n      }\n    }\n  }\n\n  // -----------------------------\n  // 2) Upload de fichier audio\n  // -----------------------------\n  const handleUpload = e => {\n    const file = e.target.files[0]\n    if (!file) return\n    setIsUploading(true)\n    setUploadProgress(0)\n\n    const xhr = new XMLHttpRequest()\n    xhr.open('POST', '/api/upload')\n    xhr.upload.onprogress = ev => {\n      if (ev.lengthComputable) {\n        setUploadProgress(Math.round(ev.loaded * 100 / ev.total))\n      }\n    }\n    xhr.onload = async () => {\n      setIsUploading(false)\n      setUploadProgress(0)\n      if (xhr.status === 200) {\n        const { id } = JSON.parse(xhr.responseText)\n        setCurrentId(id)\n        const recs = await fetchRecordings()\n        onNewRecording(recs)\n      } else {\n        alert(`Erreur upload (${xhr.status}) : ${xhr.responseText}`)\n      }\n    }\n    xhr.onerror = () => {\n      setIsUploading(false)\n      alert('Erreur réseau durant l’upload')\n    }\n    const form = new FormData()\n    form.append('file', file)\n    xhr.send(form)\n  }\n\n  // -----------------------------\n  // 3) Génération du rapport SSE\n  // -----------------------------\n  const handleGenerate = () => {\n    if (!currentId) return\n\n    // Reset state\n    if (evtRef.current) {\n      evtRef.current.close()\n      evtRef.current = null\n    }\n    setIsGenerating(true)\n    setGenProgress(0)\n    setGenStep('Diarization')\n\n    // Use absolute URL to avoid proxy issues\n    const url = `${window.location.origin}/api/generate-report-stream/${currentId}`\n    const evt = new EventSource(url)\n    evtRef.current = evt\n\n    evt.onmessage = e => {\n      const msg = JSON.parse(e.data)\n\n      // 1) phase = \"error\" → show the real backend message\n      if (msg.phase === 'error') {\n        evt.close()\n        alert(`Erreur durant la génération : ${msg.message}`)\n        setIsGenerating(false)\n        return\n      }\n\n      // 2) Normal phases\n      switch (msg.phase) {\n        case 'diarization':\n          // Skip immediately\n          if (msg.status === 'skipped' || msg.status === 'end') {\n            setGenStep('Transcription')\n            setGenProgress(0)\n          }\n          break\n\n        case 'transcription':\n          setGenStep('Transcription')\n          if (msg.total) {\n            setGenProgress(Math.round(msg.done * 100 / msg.total))\n          }\n          break\n\n        case 'summary':\n          if (msg.status === 'start') {\n            setGenStep('Résumé')\n            setGenProgress(0)\n          }\n          break\n\n        case 'docx':\n          if (msg.status === 'start') {\n            setGenStep('Génération du rapport')\n            setGenProgress(0)\n          }\n          break\n\n        case 'done':\n          evt.close()\n          // download endpoint\n          const link = document.createElement('a')\n          link.href = `/api/download-report/${currentId}`\n          link.click()\n          setIsGenerating(false)\n          break\n\n        default:\n          break\n      }\n    }\n\n    // Never show the generic “Erreur durant la génération…” here,\n    // because real errors come via phase:\"error\"\n    evt.onerror = () => {\n      // just close silently\n      if (evtRef.current) {\n        evtRef.current.close()\n        evtRef.current = null\n      }\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center w-full px-4 py-8\">\n      <div className=\"bg-blue-900 rounded-2xl p-6 flex flex-col items-center w-full max-w-md space-y-6\">\n\n        {/* 1) Mic Button */}\n        <MicButton\n          isRecording={isRecording}\n          onClick={handleMic}\n        />\n\n        {/* 2) File upload */}\n        <input\n          id=\"file-upload\"\n          type=\"file\"\n          accept=\"audio/*\"\n          className=\"hidden\"\n          onChange={handleUpload}\n        />\n        <label\n          htmlFor=\"file-upload\"\n          className={`\n            inline-flex items-center justify-center\n            bg-blue-600 hover:bg-blue-700\n            text-white font-semibold\n            rounded-full px-6 py-3\n            cursor-pointer transition\n            ${isUploading ? 'opacity-50 pointer-events-none' : ''}\n          `}\n        >\n          {isUploading\n            ? `Téléversement ${uploadProgress}%`\n            : 'Importer un fichier audio'}\n        </label>\n\n        {/* 3) Generate report */}\n        {!isRecording && currentId && (\n          <button\n            onClick={handleGenerate}\n            disabled={isGenerating}\n            className={`\n              inline-flex items-center justify-center\n              bg-green-500 hover:bg-green-600\n              text-white font-semibold\n              rounded-full px-6 py-3\n              cursor-pointer transition\n              ${isGenerating ? 'opacity-50 pointer-events-none' : ''}\n            `}\n          >\n            {isGenerating\n              ? `${genStep} ${genProgress > 0 ? `${genProgress}%` : ''}`\n              : 'Générer le Rapport (.docx)'}\n          </button>\n        )}\n\n        {/* 4) Progress bar */}\n        {isGenerating && (\n          <div className=\"w-full\">\n            <p className=\"text-white text-sm mb-1\">{genStep}</p>\n            <div className=\"w-full h-2 bg-blue-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-green-400 transition-all\"\n                style={{ width: `${genProgress}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}